{"version":3,"sources":["components/Bot/Bot.module.scss","components/Bot/Message/TextMessage/TextMessage.module.scss","assets/images/user.svg","components/Bot/Message/CardMessage/CardMessage.module.scss","components/Bot/UserInput/UserInput.module.scss","components/Bot/Theme/ThemeContext.jsx","utils/common.js","components/Bot/Common/TimeStamp/TimeStamp.jsx","components/Bot/Message/TextMessage/TextMessage.jsx","components/Bot/Message/CardMessage/CardMessage.jsx","components/Bot/Message/ImageMessage/ImageMessage.jsx","components/Bot/Message/config.js","components/Bot/Message/Message.jsx","components/Bot/Common/Switch/Switch.jsx","components/Bot/UserInput/UserInput.jsx","components/Bot/UserInput/UserInputContainer.jsx","components/Bot/Bot.jsx","components/Bot/BotContainer.jsx","components/Bot/api/botApi.js","utils/settings.js","App.jsx","serviceWorker.js","index.js","components/Bot/Message/ImageMessage/ImageMessage.module.scss","components/Bot/Common/TimeStamp/TimeStamp.module.scss","assets/images/bot.svg"],"names":["module","exports","ThemeContext","React","createContext","dark","toggleTheme","useTheme","useContext","ThemeProvider","children","useState","hasThemeMounted","themeState","setThemeState","useEffect","localStorage","getItem","useEffectDarkMode","Provider","value","setItem","JSON","stringify","createMarkup","htmlString","__html","TimeStamp","props","orientation","isDark","className","S","timestamp_container","right","left","timestamp","light","moment","format","TextMessage","message","timeStamp","image","isReplying","mainContent","body","replying","bounce1","bounce2","bounce3","dangerouslySetInnerHTML","text","container","content_container","icon","style","backgroundImage","arrow","CardMessage","title","postback","url","header","content","src","alt","info_container","link","href","target","rel","ImageMessage","uri","card","Message","type","MessageComponent","config","default","Switch","label","checked","onToggle","id","onChange","htmlFor","UserInput","userInputValue","placeholder","enableMicrophone","onTextFieldChanged","onSendClick","onKeyPress","pencil","Pencil","input","Control","size","send","onClick","microphone","aria-hidden","UserInputContainer","e","setState","currentTarget","sendUserInput","state","key","preventDefault","this","Bot","dialogData","messagesEndRef","dialogFlow","Container","Row","row","Col","column","dialog_header","bot_info_container","xs","md","bot_image","botImage","bot_info","bot_name","bot_status","bot_settings_container","bot_settings","dialog_container","dialog_content","ref","map","i","dialog_footer","BotContainer","botSettings","userSettings","updateDialogFlow","concat","getUserData","scrollDelay","getBotData","getBotResponse","responses","messages","getMessages","lastUserMessage","getLastUserMessage","messageId","dialog","length","firstInSet","data","d","botData","update","$splice","source","uuidv1","userImage","onComplete","botUrl","botId","botProviderId","sessionId","providerId","Promise","resolve","reject","fetch","method","headers","then","r","json","response","status","bt","bot_response","speech","botResponse","images","cards","processAPIResponse","catch","delay","scrollToMessage","loadingTimeout","setTimeout","$set","clearTimeout","initSettings","settings","welcomeMessage","userId","scrollingTimeout","document","getElementById","firstChild","current","scrollTo","offsetTop","filter","m","undefined","scrollTop","isLoading","BOTURL","BOTID","BOTPROVIDERID","WELCOMEMESSAGE","App","Boolean","window","location","hostname","match","ReactDOM","render","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.54f3e865.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Bot_container__2VGZV\",\"row\":\"Bot_row__1WNvO\",\"column\":\"Bot_column__3FxMv\",\"dialog_header\":\"Bot_dialog_header__3gQC4\",\"bot_info_container\":\"Bot_bot_info_container__1QoM7\",\"bot_image\":\"Bot_bot_image__3HCzV\",\"bot_info\":\"Bot_bot_info__1M0OP\",\"bot_name\":\"Bot_bot_name__yplY2\",\"bot_status\":\"Bot_bot_status__yKAkH\",\"bot_settings_container\":\"Bot_bot_settings_container__2rKUp\",\"dialog_container\":\"Bot_dialog_container__1FXsU\",\"dialog_content\":\"Bot_dialog_content__2yaNw\",\"dark\":\"Bot_dark__1hUVt\",\"light\":\"Bot_light__15Kdr\",\"dialog_footer\":\"Bot_dialog_footer__Vcveq\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"TextMessage_container__25m6A\",\"content_container\":\"TextMessage_content_container__RbvjM\",\"icon\":\"TextMessage_icon__3xLtP\",\"image\":\"TextMessage_image__1jWhP\",\"default\":\"TextMessage_default__3sjTX\",\"arrow\":\"TextMessage_arrow__1Jsqn\",\"message\":\"TextMessage_message__2I9QM\",\"body\":\"TextMessage_body__1kgkt\",\"replying\":\"TextMessage_replying__GdoUI\",\"blink\":\"TextMessage_blink__17LK2\",\"sk-bouncedelay\":\"TextMessage_sk-bouncedelay__3rV7H\",\"bounce1\":\"TextMessage_bounce1__1jSzL\",\"bounce2\":\"TextMessage_bounce2__3AUgZ\",\"left\":\"TextMessage_left__2EW1v\",\"dark\":\"TextMessage_dark__3Jaj9\",\"light\":\"TextMessage_light__oyrNI\",\"right\":\"TextMessage_right__GpCv0\"};","module.exports = __webpack_public_path__ + \"static/media/user.2b7412eb.svg\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"CardMessage_container__1D5U1\",\"content_container\":\"CardMessage_content_container__GfQLm\",\"message\":\"CardMessage_message__1rH2k\",\"body\":\"CardMessage_body__1MY4O\",\"header\":\"CardMessage_header__32CIe\",\"title\":\"CardMessage_title__StwvT\",\"content\":\"CardMessage_content__uU3hS\",\"image\":\"CardMessage_image__psyds\",\"info_container\":\"CardMessage_info_container__39j_S\",\"text\":\"CardMessage_text__3vnRT\",\"link\":\"CardMessage_link__2dFo5\",\"left\":\"CardMessage_left__23SFo\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"UserInput_container__NgtXv\",\"content\":\"UserInput_content__3DZaI\",\"pencil\":\"UserInput_pencil__3wC9M\",\"input\":\"UserInput_input__KsO7i\",\"send\":\"UserInput_send__3Tigg\",\"dark\":\"UserInput_dark__cHTBV\",\"light\":\"UserInput_light__2z3Lo\"};","import React from 'react';\n\nconst ThemeContext = React.createContext({\n\tdark: false,\n\ttoggleTheme: () => { },\n});\n\nconst useTheme = () => React.useContext(ThemeContext);\n\nconst useEffectDarkMode = () => {\n\tconst [themeState, setThemeState] = React.useState({\n\t\tdark: false,\n\t\thasThemeMounted: false,\n\t});\n\n\tReact.useEffect(() => {\n\t\tsetThemeState({\n\t\t\tdark: localStorage.getItem('dark') === 'true',\n\t\t\thasThemeMounted: true,\n\t\t});\n\t}, []);\n\n\treturn [themeState, setThemeState];\n};\n\nconst ThemeProvider = ({ children }) => {\n\tconst [themeState, setThemeState] = useEffectDarkMode();\n\n\tif (!themeState.hasThemeMounted) {\n\t\treturn <div />;\n\t}\n\n\tconst toggleTheme = () => {\n\t\tconst dark = !themeState.dark;\n\n\t\tlocalStorage.setItem('dark', JSON.stringify(dark));\n\n\t\tsetThemeState({ ...themeState, dark });\n\t};\n\n\treturn (\n\t\t<ThemeContext.Provider value={{ dark: themeState.dark, toggleTheme }}>\n\t\t\t{children}\n\t\t</ThemeContext.Provider>\n\t);\n};\n\nexport { ThemeProvider, useTheme };","export function createMarkup(htmlString) {\n    return { __html: htmlString };\n}","import * as React from 'react';\nimport { useTheme } from '../../Theme/ThemeContext';\nimport moment from 'moment';\n\nimport S from './TimeStamp.module.scss';\n\nconst TimeStamp = (props) => {\n\tconst { value, orientation } = props;\n\n\tconst themeState = useTheme();\n\tconst isDark = themeState.dark;\n\n\treturn (\n\t\t<div className={`${S.timestamp_container} ${orientation === 'right' ? S.right : S.left}`}>\n\t\t\t<div className={`${S.timestamp} ${isDark ? S.dark : S.light}`}>\n\t\t\t\t{value || moment().format('LT')}\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\nexport default TimeStamp;\n","import * as React from 'react';\nimport { useTheme } from '../../Theme/ThemeContext';\nimport { createMarkup } from '../../../../utils/common';\nimport TimeStamp from '../../Common/TimeStamp/TimeStamp.jsx';\n\nimport S from './TextMessage.module.scss';\n\nconst TextMessage = (props) => {\n\tconst { value, timeStamp, image, orientation, isReplying } = props.message;\n\n\tconst themeState = useTheme();\n\tconst isDark = themeState.dark;\n\n\tconst mainContent = isReplying ?\n\t\t(\n\t\t\t<div className={S.body}>\n\t\t\t\t<div className={S.replying}>\n\t\t\t\t\t<div className={S.bounce1} />\n\t\t\t\t\t<div className={S.bounce2} />\n\t\t\t\t\t<div className={S.bounce3} />\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t)\n\t\t:\n\t\t(\n\t\t\t<div\n\t\t\t\tclassName={S.body}\n\t\t\t\tdangerouslySetInnerHTML={createMarkup((value.message).text)}\n\t\t\t/>\n\t\t);\n\n\treturn (\n\t\t<div className={`${S.container} ${orientation === 'right' ? S.right : S.left} ${isDark ? S.dark : S.light}`}>\n\t\t\t<div className={S.content_container}>\n\t\t\t\t<div className={S.icon}>\n\t\t\t\t\t<div className={S.image} style={{ backgroundImage: `url('${image}')` }} />\n\t\t\t\t</div>\n\t\t\t\t{\n\t\t\t\t\torientation === 'left' && (\n\t\t\t\t\t\t<div className={S.arrow} />\n\t\t\t\t\t)\n\t\t\t\t}\n\t\t\t\t<div className={S.message}>\n\t\t\t\t\t{mainContent}\n\t\t\t\t</div>\n\t\t\t\t{\n\t\t\t\t\torientation === 'right' && (\n\t\t\t\t\t\t<div className={S.arrow} />\n\t\t\t\t\t)\n\t\t\t\t}\n\t\t\t</div>\n\t\t\t<TimeStamp value={timeStamp} orientation={orientation} />\n\t\t</div>\n\t);\n};\n\nexport default TextMessage;\n","import * as React from 'react';\nimport TimeStamp from '../../Common/TimeStamp/TimeStamp.jsx';\nimport { createMarkup } from '../../../../utils/common';\n\nimport S from './CardMessage.module.scss';\n\nconst CardMessage = (props) => {\n\tconst { value, timeStamp } = props.message;\n\tconst { text, title, postback, url } = value.message;\n\n\tconst mainContent = (\n\t\t<div className={S.body}>\n\t\t\t<div className={S.header}>\n\t\t\t\t<div className={S.title}>\n\t\t\t\t\t{title}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div className={S.content}>\n\t\t\t\t<div className={S.image}>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<img src={url} alt=\"\" />\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div className={S.info_container}>\n\t\t\t\t\t<div className={S.text} dangerouslySetInnerHTML={createMarkup(text)} />\n\t\t\t\t\t<div className={S.link}>\n\t\t\t\t\t\t<a href={postback} target=\"_blank\" rel=\"noopener noreferrer\">\n\t\t\t\t\t\t\tMore...\n\t\t\t\t\t\t</a>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n\n\treturn (\n\t\t<div className={`${S.container} ${S.left}`}>\n\t\t\t<div className={S.content_container}>\n\t\t\t\t<div className={S.message}>\n\t\t\t\t\t{mainContent}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<TimeStamp value={timeStamp} />\n\t\t</div>\n\t);\n};\n\nexport default CardMessage;\n","import * as React from 'react';\nimport TimeStamp from '../../Common/TimeStamp/TimeStamp.jsx';\n\nimport S from './ImageMessage.module.scss';\n\nconst ImageMessage = (props) => {\n\tconst { value, timeStamp } = props.message;\n\tconst { uri } = value.message;\n\n\tconst mainContent = (\n\t\t<div className={S.body}>\n\t\t\t<div className={S.content}>\n\t\t\t\t<div className={S.image}>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<img src={uri} alt=\"\" />\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n\n\treturn (\n\t\t<div className={`${S.container} ${S.left}`}>\n\t\t\t<div className={S.content_container}>\n\t\t\t\t<div className={S.message}>\n\t\t\t\t\t{mainContent}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<TimeStamp value={timeStamp} />\n\t\t</div>\n\t);\n};\n\nexport default ImageMessage;\n","import * as TextMessage from './TextMessage/TextMessage';\nimport * as CardMessage from './CardMessage/CardMessage';\nimport * as ImageMessage from './ImageMessage/ImageMessage';\n\nexport default {\n\ttext: TextMessage,\n\tcard: CardMessage,\n\timage: ImageMessage,\n};\n","import * as React from 'react';\nimport config from './config';\n\nconst Message = (props) => {\n\tconst { type } = props.message;\n\tconst MessageComponent = type ? (config)[type].default : null;\n\n\treturn MessageComponent ? <MessageComponent {...props} /> : null;\n};\n\nexport default Message;\n","import * as React from 'react';\n\nimport './Switch.scss';\n\nconst Switch = (props) => {\n\tconst { label, checked, onToggle } = props;\n\n\treturn (\n\t\t<div className=\"custom-control custom-switch\">\n\t\t\t<input id=\"custom-switch\" type=\"checkbox\" className=\"custom-control-input\" checked={checked} onChange={onToggle} />\n\t\t\t<label className=\"custom-control-label\" htmlFor=\"custom-switch\">\n\t\t\t\t{label}\n\t\t\t</label>\n\t\t</div>\n\t);\n};\n\nexport default Switch;\n","import * as React from 'react';\nimport { useTheme } from '../Theme/ThemeContext';\nimport Octicon, { Pencil } from '@primer/octicons-react';\nimport Form from 'react-bootstrap/Form';\n\nimport S from './UserInput.module.scss';\n\nconst UserInput = (props) => {\n\tconst { userInputValue, placeholder, enableMicrophone, onTextFieldChanged, onSendClick, onKeyPress } = props;\n\n\tconst themeState = useTheme();\n\tconst isDark = themeState.dark;\n\n\treturn (\n\t\t<div className={`${S.container} ${isDark ? S.dark : S.light}`} onKeyPress={onKeyPress}>\n\t\t\t<div className={S.content}>\n\t\t\t\t<div className={S.pencil}>\n\t\t\t\t\t<Octicon icon={Pencil} />\n\t\t\t\t</div>\n\t\t\t\t<div className={S.input}>\n\t\t\t\t\t<Form.Control\n\t\t\t\t\t\tsize=\"lg\"\n\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\tvalue={userInputValue}\n\t\t\t\t\t\tplaceholder={placeholder}\n\t\t\t\t\t\tonChange={onTextFieldChanged}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t\t<div className={S.send} onClick={onSendClick}>\n\t\t\t\t\tSend\n\t\t\t\t</div>\n\t\t\t\t{\n\t\t\t\t\tenableMicrophone && (\n\t\t\t\t\t\t<div className={`${S.microphone}`}>\n\t\t\t\t\t\t\t<i className=\"fa fa-microphone\" aria-hidden=\"true\" />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)\n\t\t\t\t}\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\nexport default UserInput;\n","import * as React from 'react';\nimport UserInput from './UserInput';\n\nexport default class UserInputContainer extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tuserInputValue: '',\n\t\t};\n\t}\n\n\tonTextFieldChanged = (e) => {\n\t\tthis.setState({ userInputValue: e.currentTarget.value });\n\t}\n\n\tonSendClick = () => {\n\t\tthis.sendUserInput(this.state.userInputValue);\n\t}\n\n\tonKeyPress = (e) => {\n\t\tif (e.key === 'Enter') {\n\t\t\te.preventDefault();\n\t\t\tthis.sendUserInput(this.state.userInputValue);\n\t\t}\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<UserInput\n\t\t\t\t{...this.state}\n\t\t\t\tplaceholder={this.props.placeholder}\n\t\t\t\tonTextFieldChanged={this.onTextFieldChanged}\n\t\t\t\tonSendClick={this.onSendClick}\n\t\t\t\tonKeyPress={this.onKeyPress}\n\t\t\t/>\n\t\t);\n\t}\n\n\tsendUserInput = (value) => {\n\t\tthis.setState({ userInputValue: '' }, () => {\n\t\t\tconst { onSendClick } = this.props;\n\n\t\t\tif (onSendClick && value) {\n\t\t\t\tonSendClick(value);\n\t\t\t}\n\t\t});\n\t}\n}\n","import * as React from 'react';\nimport { Container, Row, Col } from 'react-bootstrap';\nimport { useTheme } from \"./Theme/ThemeContext\";\nimport botImage from '../../assets/images/bot.svg';\nimport Message from './Message/Message';\nimport Switch from './Common/Switch/Switch';\nimport UserInputContainer from './UserInput/UserInputContainer';\n\nimport S from './Bot.module.scss';\n\nconst Bot = (props) => {\n\tconst { dialogData, onSendClick, messagesEndRef } = props;\n\tconst { dialogFlow } = dialogData;\n\n\tconst themeState = useTheme();\n\tconst isDark = themeState.dark;\n\n\treturn (\n\t\t<Container className={S.container}>\n\t\t\t<Row className={S.row}>\n\t\t\t\t<Col className={S.column}>\n\t\t\t\t\t<Row className={S.dialog_header}>\n\t\t\t\t\t\t<Col className={S.bot_info_container} xs={12} md={6}>\n\t\t\t\t\t\t\t<div className={S.bot_image}>\n\t\t\t\t\t\t\t\t<img className={S.image} src={botImage} alt=\"\" />\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className={S.bot_info}>\n\t\t\t\t\t\t\t\t<div className={S.bot_name}>\n\t\t\t\t\t\t\t\t\tFilament Bot\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div className={S.bot_status}>\n\t\t\t\t\t\t\t\t\tonline\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t<Col className={S.bot_settings_container} xs={12} md={6}>\n\t\t\t\t\t\t\t<div className={S.bot_settings}>\n\t\t\t\t\t\t\t\t<Switch \n\t\t\t\t\t\t\t\t\tlabel={isDark ? 'Dark mode' : 'Light mode'} \n\t\t\t\t\t\t\t\t\tchecked={isDark}\n\t\t\t\t\t\t\t\t\tonToggle={() => themeState.toggleTheme()} \n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t</Row>\n\t\t\t\t\t<div className={S.dialog_container}>\n\t\t\t\t\t\t<div className={`${S.dialog_content} ${isDark ? S.dark : S.light}`} ref={messagesEndRef}>\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tdialogFlow && dialogFlow.map((message, i) => {\n\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t<div id={message.id} key={i}>\n\t\t\t\t\t\t\t\t\t\t\t<Message message={message} />\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className={`${S.dialog_footer} ${isDark ? S.dark : S.light}`}>\n\t\t\t\t\t\t\t<UserInputContainer placeholder=\"Ask a question...\" onSendClick={onSendClick} />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</Col>\n\t\t\t</Row>\n\t\t</Container>\n\t);\n};\n\nexport default Bot;\n","import * as React from 'react';\nimport moment from 'moment';\nimport uuidv1 from 'uuid/v1';\nimport update from 'immutability-helper';\nimport botImage from '../../assets/images/bot.svg';\nimport userImage from '../../assets/images/user.svg';\nimport { getAPIResponse } from './api/botApi';\nimport Bot from './Bot';\n\nexport default class BotContainer extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tbotSettings: undefined,\n\t\t\tuserSettings: undefined,\n\t\t\tdialogData: {\n\t\t\t\tdialogFlow: [],\n\t\t\t},\n\t\t\tscrollTop: 0,\n\t\t\tisLoading: true,\n\t\t};\n\n\t\tthis.loadingTimeout = null;\n\t\tthis.scrollingTimeout = null;\n\t\tthis.messagesEndRef = React.createRef();\n\t}\n\n\tcomponentDidMount() {\n\t\tconst { settings } = this.props;\n\n\t\tthis.initSettings(settings, () => {\n\t\t\tconst { botSettings, dialogData } = this.state;\n\n\t\t\tconst welcomeMessage = botSettings ? botSettings.welcomeMessage : '';\n\n\t\t\tthis.updateDialogFlow(\n\t\t\t\t[this.getBotData({ message: { text: welcomeMessage } }, 'text')],\n\t\t\t\tdialogData,\n\t\t\t\t0,\n\t\t\t\tundefined,\n\t\t\t\t() => {\n\t\t\t\t\tthis.setState({ isLoading: false });\n\t\t\t\t},\n\t\t\t);\n\t\t});\n\t}\n\n\tonSendClick = (text) => {\n\t\tconst { dialogData, botSettings, userSettings } = this.state;\n\n\t\tthis.updateDialogFlow(\n\t\t\tdialogData.dialogFlow.concat([this.getUserData({ message: { text } }, userSettings)]),\n\t\t\tdialogData,\n\t\t\t0,\n\t\t\t{ scrollDelay: 0 },\n\t\t\t() => {\n\t\t\t\tthis.updateDialogFlow(\n\t\t\t\t\tthis.state.dialogData.dialogFlow.concat([this.getBotData({ message: { text: '' } }, 'text', true, true)]),\n\t\t\t\t\tdialogData,\n\t\t\t\t\t500,\n\t\t\t\t\t{ scrollDelay: 0 },\n\t\t\t\t\t() => {\n\t\t\t\t\t\tthis.getBotResponse(text, botSettings, (responses) => {\n\t\t\t\t\t\t\tconst messages = this.getMessages(this.state.dialogData.dialogFlow, responses);\n\n\t\t\t\t\t\t\tconst lastUserMessage = this.getLastUserMessage(messages);\n\n\t\t\t\t\t\t\tthis.updateDialogFlow(\n\t\t\t\t\t\t\t\tmessages,\n\t\t\t\t\t\t\t\tdialogData,\n\t\t\t\t\t\t\t\t1000,\n\t\t\t\t\t\t\t\t{ scrollDelay: 100, messageId: lastUserMessage && lastUserMessage.id },\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t});\n\t\t\t\t\t},\n\t\t\t\t);\n\t\t\t},\n\t\t);\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<Bot\n\t\t\t\t{...this.state}\n\t\t\t\tonSendClick={this.onSendClick}\n\t\t\t\tmessagesEndRef={this.messagesEndRef}\n\t\t\t/>\n\t\t);\n\t}\n\n\tgetMessages = (dialogFlow, responses) => {\n\t\tlet dialog = dialogFlow;\n\n\t\tif (responses && responses.length) {\n\t\t\tlet firstInSet = true;\n\n\t\t\t// eslint-disable-next-line no-unused-vars\n\t\t\tfor (const response of responses) {\n\t\t\t\tconst { data, type } = response || { data: { text: '' }, type: 'text' };\n\n\t\t\t\tif (data) {\n\t\t\t\t\t// eslint-disable-next-line no-unused-vars\n\t\t\t\t\tfor (const d of data) {\n\t\t\t\t\t\tconst botData = this.getBotData({ message: d }, type, firstInSet);\n\n\t\t\t\t\t\tdialog = update(dialog, {\n\t\t\t\t\t\t\t$splice: firstInSet ?\n\t\t\t\t\t\t\t\t[[dialog.length - 1, 1, botData]] : [[dialog.length, 0, botData]],\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\n\t\t\t\t\tfirstInSet = false;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn dialog;\n\t}\n\n\tgetBotData = (value, type, firstInSet, isReplying) => {\n\t\treturn {\n\t\t\ttype,\n\t\t\tvalue,\n\t\t\tfirstInSet,\n\t\t\tisReplying,\n\t\t\tsource: 'bot',\n\t\t\timage: botImage,\n\t\t\torientation: 'left',\n\t\t\ttimeStamp: moment().format('LT'),\n\t\t\tid: uuidv1(),\n\t\t};\n\t}\n\n\tgetUserData = (value, userSettings) => {\n\t\tconst { userImage } = userSettings || { userImage: '' };\n\n\t\treturn {\n\t\t\tvalue,\n\t\t\ttype: 'text',\n\t\t\tsource: 'user',\n\t\t\timage: userImage,\n\t\t\torientation: 'right',\n\t\t\ttimeStamp: moment().format('LT'),\n\t\t\tfirstInSet: false,\n\t\t\tid: uuidv1(),\n\t\t};\n\t}\n\n\tgetBotResponse = (message, botSettings, onComplete) => {\n\t\tif (botSettings) {\n\t\t\tconst { botUrl, botId, botProviderId, sessionId } = botSettings;\n\n\t\t\tgetAPIResponse(botUrl, {\n\t\t\t\tmessage,\n\t\t\t\tbotId,\n\t\t\t\tproviderId: botProviderId,\n\t\t\t\tsessionId,\n\t\t\t}).then((botResponse) => {\n\t\t\t\tthis.setState({ botResponse }, () => {\n\t\t\t\t\tif (onComplete && botResponse) {\n\t\t\t\t\t\tonComplete(botResponse);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t\t}\n\t}\n\n\tupdateDialogFlow = (messages, dialogData, delay, scrollToMessage, onComplete) => {\n\t\tthis.loadingTimeout = setTimeout(() => {\n\t\t\tthis.setState({\n\t\t\t\tdialogData: update(dialogData, { dialogFlow: { $set: messages } }),\n\t\t\t}, () => {\n\t\t\t\tclearTimeout(this.loadingTimeout);\n\n\t\t\t\tif (scrollToMessage) {\n\t\t\t\t\tconst { messageId, scrollDelay } = scrollToMessage;\n\t\t\t\t\tthis.scrollToMessage(messageId || messages[messages.length - 1].id, scrollDelay);\n\t\t\t\t}\n\n\t\t\t\tif (onComplete) {\n\t\t\t\t\tonComplete();\n\t\t\t\t}\n\t\t\t});\n\t\t}, delay);\n\t}\n\n\tinitSettings = (settings, onComplete) => {\n\t\tconst { botUrl, botId, botProviderId, welcomeMessage } = settings;\n\n\t\tthis.setState({\n\t\t\tuserSettings: {\n\t\t\t\tuserId: uuidv1(),\n\t\t\t\tuserImage: userImage,\n\t\t\t},\n\t\t\tbotSettings: {\n\t\t\t\tbotUrl,\n\t\t\t\tbotId,\n\t\t\t\tbotProviderId,\n\t\t\t\twelcomeMessage,\n\t\t\t\tsessionId: uuidv1(),\n\t\t\t},\n\t\t}, () => {\n\t\t\tif (onComplete) {\n\t\t\t\tonComplete();\n\t\t\t}\n\t\t});\n\t}\n\n\tscrollToMessage = (message, delay) => {\n\t\tif (this.messagesEndRef) {\n\t\t\tthis.scrollingTimeout = setTimeout(() => {\n\t\t\t\tconst scrollToMessage = document.getElementById(message);\n\n\t\t\t\tif (scrollToMessage && scrollToMessage.firstChild) {\n\t\t\t\t\tthis.messagesEndRef.current.scrollTo(0, (scrollToMessage.firstChild).offsetTop - 140);\n\t\t\t\t}\n\n\t\t\t\tclearTimeout(this.scrollingTimeout);\n\t\t\t}, delay || 500);\n\t\t}\n\t}\n\n\tgetLastUserMessage = (messages) => {\n\t\tconst message = messages.filter(m => m.source === 'user');\n\t\treturn message.length ? message[message.length - 1] : undefined;\n\t}\n}\n","export function getAPIResponse(url, data) {\n\treturn new Promise((resolve, reject) => {\n\t\tfetch(url,\n\t\t\t{\n\t\t\t\tmethod: 'POST',\n\t\t\t\theaders: { 'Content-Type': 'application/json; charset=UTF-8' },\n\t\t\t\tbody: JSON.stringify(data),\n\t\t\t})\n\t\t\t.then(r => r.json())\n\t\t\t.then((response) => {\n\t\t\t\tresolve(processAPIResponse(response));\n\t\t\t})\n\t\t\t.catch(reject);\n\t});\n}\n\nfunction processAPIResponse(data) {\n\tif (data) {\n\t\tconst { status } = data;\n\n\t\tif (status) {\n\t\t\tconst bt = data.bot_response;\n\n\t\t\tif (status === 'misunderstood') {\n\t\t\t\treturn [{\n\t\t\t\t\ttype: 'text',\n\t\t\t\t\tdata: [{\n\t\t\t\t\t\ttext: (bt && bt.length ? bt[0] : { speech: '' }).speech,\n\t\t\t\t\t}],\n\t\t\t\t}];\n\t\t\t}\n\n\t\t\tif (status === 'understood') {\n\t\t\t\tconst botResponse = bt && bt.length ? bt : [];\n\n\t\t\t\tif (botResponse && botResponse.length) {\n\t\t\t\t\treturn botResponse.map((response) => {\n\t\t\t\t\t\tswitch (response.type) {\n\t\t\t\t\t\t\tcase 0:\n\t\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\t\ttype: 'text',\n\t\t\t\t\t\t\t\t\tdata: (response.speech).map(text => ({ text })),\n\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\tcase 5:\n\t\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\t\ttype: 'image',\n\t\t\t\t\t\t\t\t\tdata: response.images,\n\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\tcase 6:\n\t\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\t\ttype: 'card',\n\t\t\t\t\t\t\t\t\tdata: response.cards,\n\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\t\ttype: 'text',\n\t\t\t\t\t\t\t\t\tdata: [{\n\t\t\t\t\t\t\t\t\t\ttext: 'I\\'m sorry, I didn\\'t understand that. Can you rephrase it?',\n\t\t\t\t\t\t\t\t\t}],\n\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn [{ type: 'error' }];\n}\n","/* EBM */\nexport const BOTURL = 'https://golin.ebm.filament.ai/api/chat/query';\nexport const BOTID = '6';\nexport const BOTPROVIDERID = '4';\n\n/* BOT */\nexport const WELCOMEMESSAGE = 'Hi, mate. Ask me about Filament CEOs, delivery process and products.';\n","import React from 'react';\nimport BotContainer from './components/Bot/BotContainer';\nimport { ThemeProvider } from \"./components/Bot/Theme/ThemeContext\";\nimport { BOTURL, BOTID, BOTPROVIDERID, WELCOMEMESSAGE } from './utils/settings';\n\nfunction App() {\n\tconst settings = {\n\t\tbotUrl: BOTURL,\n\t\tbotId: BOTID,\n\t\tbotProviderId: BOTPROVIDERID,\n\t\twelcomeMessage: WELCOMEMESSAGE,\n\t};\n\n\treturn (\n\t\t<ThemeProvider>\n\t\t\t<BotContainer settings={settings} />\n\t\t</ThemeProvider>\n\t);\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import 'react-app-polyfill/ie11';\nimport 'react-app-polyfill/stable';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport './index.scss';\nimport App from './App.jsx';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"ImageMessage_container__2CZ3J\",\"content_container\":\"ImageMessage_content_container__3Jj46\",\"message\":\"ImageMessage_message__12xsW\",\"body\":\"ImageMessage_body__t9Ced\",\"content\":\"ImageMessage_content__3QnRq\",\"image\":\"ImageMessage_image__Wn6ND\",\"left\":\"ImageMessage_left__xD-Qu\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"timestamp_container\":\"TimeStamp_timestamp_container__-k-Fu\",\"timestamp\":\"TimeStamp_timestamp__3w_TG\",\"dark\":\"TimeStamp_dark__1lgfu\",\"light\":\"TimeStamp_light__2vlma\",\"left\":\"TimeStamp_left__cV12R\",\"right\":\"TimeStamp_right__zS025\"};","module.exports = __webpack_public_path__ + \"static/media/bot.48df58b9.svg\";"],"sourceRoot":""}